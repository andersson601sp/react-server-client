(this["webpackJsonpgerenciador-de-tarefas"]=this["webpackJsonpgerenciador-de-tarefas"]||[]).push([[0],{34:function(e,t,a){},35:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a(12),s=a.n(c),i=(a(34),a(35),a(8)),o=a(7),d=a(56),j=a(59),l=a(9),u=a(10),b=a(2),f=a.n(b),O=a(55),h=a(58);function x(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],s=a[1];function i(e){s(!1)}return Object(r.jsxs)("span",{className:e.className,children:[Object(r.jsx)(O.a,{className:"btn-sm",onClick:function(e){e.preventDefault(),s(!0)},"data-testid":"btn-abrir-modal",children:Object(r.jsx)(l.a,{icon:u.a})}),Object(r.jsxs)(h.a,{show:c,onHide:i,"data-testid":"modal",children:[Object(r.jsx)(h.a.Header,{closeButton:!0,children:Object(r.jsx)(h.a.Title,{children:"Concluir tarefa"})}),Object(r.jsxs)(h.a.Body,{children:["Deseja realmente concluir a seguinte tarefa?",Object(r.jsx)("br",{}),Object(r.jsx)("strong",{children:e.tarefa.nome})]}),Object(r.jsxs)(h.a.Footer,{children:[Object(r.jsx)(O.a,{variant:"primary",onClick:function(t){t.preventDefault();var a=localStorage.tarefas,r=a?JSON.parse(a):[];r=r.map((function(t){return t.id===e.tarefa.id&&(t.concluida=!0),t})),localStorage.tarefas=JSON.stringify(r),s(!1),e.recarregarTarefas(!0)},"data-testid":"btn-concluir",children:"Sim"}),Object(r.jsx)(O.a,{variant:"light",onClick:i,"data-testid":"btn-fechar-modal",children:"N\xe3o"})]})]})]})}x.prototype={tarefa:f.a.object.isRequired,recarregarTarefas:f.a.func.isRequired,className:f.a.string};var g=x;function m(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],s=a[1];function i(){s(!1)}return Object(r.jsxs)("span",{children:[Object(r.jsx)(O.a,{variant:"danger",className:"btn-sm",onClick:function(e){e.preventDefault(),s(!0)},"data-testid":"btn-abrir-modal",children:Object(r.jsx)(l.a,{icon:u.g})}),Object(r.jsxs)(h.a,{show:c,onHide:i,"data-testid":"modal",children:[Object(r.jsx)(h.a.Header,{closeButton:!0,children:Object(r.jsx)(h.a.Title,{children:"Remover Tarefa"})}),Object(r.jsxs)(h.a.Body,{children:["Deseja realmente remover a seguinte tarefa?",Object(r.jsx)("br",{}),Object(r.jsx)("strong",{children:e.tarefa.nome})]}),Object(r.jsxs)(h.a.Footer,{children:[Object(r.jsx)(O.a,{variant:"primary",onClick:function(t){t.preventDefault();var a=localStorage.tarefas,r=a?JSON.parse(a):[];r=r.filter((function(t){return t.id!==e.tarefa.id})),localStorage.tarefas=JSON.stringify(r),s(!1),e.recarregarTarefas(!0)},"data-testid":"btn-remover",children:"Sim"}),Object(r.jsx)(O.a,{variant:"light",onClick:i,children:"N\xe3o"})]})]})]})}m.proptype={tarefa:f.a.object.isRequired,recarregarTarefas:f.a.func.isRequired};var p=m;var v=function(e){function t(e){return e.concluida?"line-through":"none"}return e.tarefas.map((function(a){return Object(r.jsxs)("tr",{"data-testid":"tarefa",children:[Object(r.jsx)("td",{width:"75%","data-testid":"nome-tarefa",style:{textDecoration:t(a)},children:a.nome}),Object(r.jsxs)("td",{className:"text-right",children:[Object(r.jsx)(g,{tarefa:a,recarregarTarefas:e.recarregarTarefas,className:a.concluida?"hidden":null}),"\xa0",Object(r.jsx)(i.A,{href:"/atualizar/"+a.id,className:a.concluida?"hidden":"btn btn-warning btn-sm",children:Object(r.jsx)(l.a,{icon:u.b})}),"\xa0",Object(r.jsx)(p,{tarefa:a,recarregarTarefas:e.recarregarTarefas})]})]},a.id)}))},S=a(13);var C=function(e){function t(t){return Object(r.jsx)(S.a.Item,{active:t===e.paginaAtual,onClick:function(){return e.mudarPagina(t)},children:t},t)}return Object(r.jsx)(S.a,{"data-testid":"paginacao",children:function(){var a=Math.ceil(e.totalItems/e.itemsPorPagina),n=[];n.push(Object(r.jsx)(S.a.First,{onClick:function(){return e.mudarPagina(1)},disabled:1===e.paginaAtual},"pagFirst")),n.push(Object(r.jsx)(S.a.Prev,{onClick:function(){return e.mudarPagina(e.paginaAtual-1)},disabled:1===e.paginaAtual},"pagPrev"));for(var c=1;c<=a;c++)n.push(t(c));return n.push(function(t){return Object(r.jsx)(S.a.Next,{onClick:function(){return e.mudarPagina(e.paginaAtual+1)},disabled:e.paginaAtual===t},"pagnext")}(a)),n.push(function(t){return Object(r.jsx)(S.a.Last,{onClick:function(){return e.mudarPagina(t)},disabled:e.paginaAtual===t},"pagLast")}(a)),n}()})};var N=function(e){return Object(r.jsxs)("span",{children:[Object(r.jsx)(l.a,{icon:u.d,className:e.ordenarAsc||e.ordenarDesc?"hidden":"","data-testid":"faSort"}),Object(r.jsx)(l.a,{icon:u.f,className:e.ordenarDesc?"":"hidden","data-testid":"faSortUp"}),Object(r.jsx)(l.a,{icon:u.e,className:e.ordenarAsc?"":"hidden","data-testid":"faSortDown"})]})};var T=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),b=Object(o.a)(s,2),f=b[0],O=b[1],h=Object(n.useState)(0),x=Object(o.a)(h,2),g=x[0],m=x[1],p=Object(n.useState)(1),S=Object(o.a)(p,2),T=S[0],y=S[1],k=Object(n.useState)(!1),A=Object(o.a)(k,2),D=A[0],w=A[1],L=Object(n.useState)(!1),P=Object(o.a)(L,2),F=P[0],J=P[1],B=Object(n.useState)(""),H=Object(o.a)(B,2),z=H[0],I=H[1];return Object(n.useEffect)((function(){f&&(!function(){var e=localStorage.tarefas,t=e?JSON.parse(e):[];t=t.filter((function(e){return e.nome.toLowerCase().indexOf(z.toLowerCase())>=0})),D?t.sort((function(e,t){return e.nome.toLowerCase()>t.nome.toLowerCase()?1:-1})):F&&t.sort((function(e,t){return e.nome.toLowerCase()<t.nome.toLowerCase()?1:-1})),m(t.length),c(t.splice(3*(T-1),3))}(),O(!1))}),[f,T,D,F,z]),Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)("h3",{children:"Tarefas a fazer"}),Object(r.jsxs)(d.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,"data-testid":"tabela",children:[Object(r.jsxs)("thead",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:Object(r.jsxs)("a",{href:"/",onClick:function(e){e.preventDefault(),!D&&!F||F?(w(!0),J(!1)):w?(w(!1),J(!0)):(w(!1),J(!1)),O(!0)},children:["Tarefa \xa0",Object(r.jsx)(N,{ordenarAsc:D,ordenarDesc:F})]})}),Object(r.jsx)("th",{children:Object(r.jsxs)(i.A,{href:"/cadastrar",className:"btn btn-success btn-sm","data-testeid":"btn-nova-tarefa",children:[Object(r.jsx)(l.a,{icon:u.c}),"\xa0 Nova Tarefa"]})})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:Object(r.jsx)(j.a.Control,{type:"text",value:z,onChange:function(e){I(e.target.value),O(!0)},"data-testid":"txt-tarefa",className:"filtro-tarefa"})}),Object(r.jsx)("th",{children:"\xa0"})]})]}),Object(r.jsx)("tbody",{children:Object(r.jsx)(v,{tarefas:a,recarregarTarefas:O})})]}),Object(r.jsx)(C,{totalItems:g,itemsPorPagina:3,paginaAtual:T,mudarPagina:function(e){y(e),O(!0)}})]})},y=a(57);var k=function(e,t,a){return this.id=e,this.nome=t,this.concluida=a,{id:e,nome:t,concluida:a}};var A=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),d=Object(o.a)(s,2),l=d[0],u=d[1],b=Object(n.useState)(!1),f=Object(o.a)(b,2),x=f[0],g=f[1];function m(){Object(i.navigate)("/")}return Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{className:"text-center",children:"Cadastrar"}),Object(r.jsxs)(y.a,{children:[Object(r.jsxs)(j.a,{validated:l,noValidate:!0,onSubmit:function(e){if(e.preventDefault(),u(!0),!0===e.currentTarget.checkValidity()){var t=localStorage.tarefas,r=t?JSON.parse(t):[];r.push(new k((new Date).getTime(),a,!1)),localStorage.tarefas=JSON.stringify(r),g(!0)}},children:[Object(r.jsxs)(j.a.Group,{children:[Object(r.jsx)(j.a.Label,{children:"Tarefa"}),Object(r.jsx)(j.a.Control,{type:"text",placeholder:"digite a tarefa",minLength:"5",maxLength:"100",required:!0,value:a,onChange:function(e){c(e.target.value)},"data-testid":"txt-tarefa"}),Object(r.jsx)(j.a.Control.Feedback,{type:"invalid",children:"A Tarefa de contem ao menos 5 caracteres"})]}),Object(r.jsxs)(j.a.Group,{className:"text-center",children:[Object(r.jsx)(O.a,{variant:"success",type:"submit","data-testid":"btn-cadastrar",children:"Cadastrar"}),"\xa0",Object(r.jsx)(i.A,{href:"/",className:"btn btn-light",children:"Voltar"})]})]}),Object(r.jsxs)(h.a,{show:x,onHide:m,"data-testid":"modal",children:[Object(r.jsx)(h.a.Header,{closeButton:!0,children:Object(r.jsx)(h.a.Title,{children:"Sucesso"})}),Object(r.jsx)(h.a.Body,{"data-testid":"modal-body",children:"Tarefa Adicionada com sucesso!"}),Object(r.jsx)(h.a.Footer,{children:Object(r.jsx)(O.a,{variant:"success",onClick:m,children:"Continuar"})})]})]})]})};var D=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],s=a[1],d=Object(n.useState)(!1),l=Object(o.a)(d,2),u=l[0],b=l[1],f=Object(n.useState)(!1),x=Object(o.a)(f,2),g=x[0],m=x[1],p=Object(n.useState)(!0),v=Object(o.a)(p,2),S=v[0],C=v[1];function N(){Object(i.navigate)("/")}return Object(n.useEffect)((function(){if(S){var t=localStorage.tarefas,a=(t?JSON.parse(t):[]).filter((function(t){return t.id===parseInt(e.id)}))[0];s(a.nome),C(!1)}}),[S,e]),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{className:"text-center",children:"Atualizar"}),Object(r.jsxs)(y.a,{children:[Object(r.jsxs)(j.a,{onSubmit:function(t){if(t.preventDefault(),m(!0),b(!0),!0===t.currentTarget.checkValidity()){var a=localStorage.tarefas,r=a?JSON.parse(a):[];r=r.map((function(t){return t.id===parseInt(e.id)&&(t.nome=c),t})),localStorage.tarefas=JSON.stringify(r),b(!0)}},noValidate:!0,validated:g,children:[Object(r.jsxs)(j.a.Group,{children:[Object(r.jsx)(j.a.Label,{children:"Tarefa"}),Object(r.jsx)(j.a.Control,{type:"text",placeholder:"Digite a tarefa",minLength:"5",maxLength:"100",required:!0,"data-testid":"txt-tarefa",onChange:function(e){s(e.target.value)},value:c}),Object(r.jsx)(j.a.Control.Feedback,{type:"invalid",children:"A tarefa deve conter ao menos 3 caracteres."})]}),Object(r.jsxs)(j.a.Group,{className:"text-center",children:[Object(r.jsx)(O.a,{variant:"success",type:"submit","data-testid":"btn-atualizar",children:"Atualizar"}),"\xa0",Object(r.jsx)(i.A,{href:"/",className:"btn btn-light",onClick:function(e){e.preventDefault(),Object(i.navigate)("/")},children:"Voltar"})]})]}),Object(r.jsxs)(h.a,{show:u,onHide:N,"data-testid":"modal",children:[Object(r.jsx)(h.a.Header,{closeButton:!0,children:Object(r.jsx)(h.a.Title,{children:"Sucesso"})}),Object(r.jsx)(h.a.Body,{"data-testid":"modal-body",children:"Tarefa Atualizada com sucesso!"}),Object(r.jsx)(h.a.Footer,{children:Object(r.jsx)(O.a,{variant:"success",onClick:N,children:"Continuar"})})]})]})]})},w={"/":function(){return Object(r.jsx)(T,{})},"/cadastrar":function(){return Object(r.jsx)(A,{})},"/atualizar/:id":function(e){var t=e.id;return Object(r.jsx)(D,{id:t})}};var L=function(){return Object(i.useRoutes)(w)},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,60)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};a(52);s.a.render(Object(r.jsx)(L,{}),document.getElementById("root")),P()}},[[53,1,2]]]);
//# sourceMappingURL=main.b32e88a6.chunk.js.map