{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/andersson/\\xC1rea de Trabalho/cursos/react/gerenciador-de-tarefas-api-cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import{Button,Form,Jumbotron,Modal}from'react-bootstrap';import{navigate,A}from'hookrouter';import Tarefa from'../models/tarefa.model';function CadastrarTarefa(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),tarefa=_useState2[0],setTarefa=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),formValidado=_useState4[0],setFormValidado=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),exibirModal=_useState6[0],setExibirModal=_useState6[1];function cadastrar(event){event.preventDefault();setFormValidado(true);if(event.currentTarget.checkValidity()===true){//obtem as tarefas \nvar tarefasDb=localStorage['tarefas'];var tarefas=tarefasDb?JSON.parse(tarefasDb):[];//persiste a tarefa\ntarefas.push(new Tarefa(new Date().getTime(),tarefa,false));localStorage['tarefas']=JSON.stringify(tarefas);setExibirModal(true);}}function handleTxtTarefa(event){setTarefa(event.target.value);}function handleFecharModal(){navigate('/');}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"Cadastrar\"}),/*#__PURE__*/_jsxs(Jumbotron,{children:[/*#__PURE__*/_jsxs(Form,{validated:formValidado,noValidate:true,onSubmit:cadastrar,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Tarefa\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"digite a tarefa\",minLength:\"5\",maxLength:\"100\",required:true,value:tarefa,onChange:handleTxtTarefa,\"data-testid\":\"txt-tarefa\"}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:\"A Tarefa de contem ao menos 5 caracteres\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"text-center\",children:[/*#__PURE__*/_jsx(Button,{variant:\"success\",type:\"submit\",\"data-testid\":\"btn-cadastrar\",children:\"Cadastrar\"}),\"\\xA0\",/*#__PURE__*/_jsx(A,{href:\"/\",className:\"btn btn-light\",children:\"Voltar\"})]})]}),/*#__PURE__*/_jsxs(Modal,{show:exibirModal,onHide:handleFecharModal,\"data-testid\":\"modal\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Sucesso\"})}),/*#__PURE__*/_jsx(Modal.Body,{\"data-testid\":\"modal-body\",children:\"Tarefa Adicionada com sucesso!\"}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:handleFecharModal,children:\"Continuar\"})})]})]})]});}export default CadastrarTarefa;","map":{"version":3,"sources":["/home/andersson/√Årea de Trabalho/cursos/react/gerenciador-de-tarefas-api-cliente/src/cadastrar/cadastrar-tarefa.js"],"names":["useState","Button","Form","Jumbotron","Modal","navigate","A","Tarefa","CadastrarTarefa","tarefa","setTarefa","formValidado","setFormValidado","exibirModal","setExibirModal","cadastrar","event","preventDefault","currentTarget","checkValidity","tarefasDb","localStorage","tarefas","JSON","parse","push","Date","getTime","stringify","handleTxtTarefa","target","value","handleFecharModal"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport { Button, Form, Jumbotron, Modal } from 'react-bootstrap';\nimport { navigate, A}  from 'hookrouter';\nimport Tarefa from '../models/tarefa.model';\n\nfunction CadastrarTarefa(){\n\n    const [tarefa, setTarefa] = useState('');\n    const [formValidado, setFormValidado] = useState(false);\n    const [exibirModal, setExibirModal] = useState(false);\n\n    function cadastrar(event){\n      event.preventDefault();\n      setFormValidado(true);\n      if (event.currentTarget.checkValidity() === true) {\n          //obtem as tarefas \n          const tarefasDb = localStorage['tarefas'];\n          const tarefas = tarefasDb ? JSON.parse(tarefasDb) : []; \n\n          //persiste a tarefa\n          tarefas.push(new Tarefa(new Date().getTime(), tarefa, false));\n          localStorage['tarefas'] = JSON.stringify(tarefas);\n          setExibirModal(true);\n      }\n    }\n\n    function handleTxtTarefa(event){\n     setTarefa(event.target.value);\n   }\n\n\n   function handleFecharModal(){\n       navigate('/');\n   }\n\n\n    return (\n        <div>\n            <h3 className=\"text-center\" >Cadastrar</h3>\n            <Jumbotron>\n                <Form \n                  validated={formValidado}\n                  noValidate\n                  onSubmit={cadastrar}\n                >\n                    <Form.Group>\n                        <Form.Label>Tarefa</Form.Label>\n                        <Form.Control type=\"text\" \n                        placeholder=\"digite a tarefa\"\n                        minLength=\"5\"\n                        maxLength=\"100\"\n                        required\n                        value={tarefa}\n                        onChange={handleTxtTarefa}\n                        data-testid=\"txt-tarefa\"\n                        /> \n                        <Form.Control.Feedback type=\"invalid\">\n                            A Tarefa de contem ao menos 5 caracteres\n                        </Form.Control.Feedback>\n                    </Form.Group>\n                    <Form.Group className=\"text-center\">\n                        <Button\n                        variant=\"success\"\n                        type=\"submit\"\n                        data-testid=\"btn-cadastrar\">Cadastrar\n                        </Button>\n                        &nbsp;\n                        <A href=\"/\" className=\"btn btn-light\">Voltar</A>\n                    </Form.Group>\n                </Form>  \n                <Modal show={exibirModal} onHide={handleFecharModal}  data-testid=\"modal\" >\n                    <Modal.Header closeButton>\n                        <Modal.Title>Sucesso</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body  data-testid=\"modal-body\" >\n                        Tarefa Adicionada com sucesso!\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button \n                        variant=\"success\"\n                        onClick={handleFecharModal}\n                        >\n                           Continuar\n                        </Button>\n                    </Modal.Footer>\n                </Modal>   \n            </Jumbotron>\n        </div>\n    )\n}\n\nexport default CadastrarTarefa;"]},"metadata":{},"sourceType":"module"}